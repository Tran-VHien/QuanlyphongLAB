#  Quáº£n lÃ½ phÃ²ng Lab

> **BÃ i táº­p cuá»‘i ká»³:** PhÃ¡t triá»ƒn á»©ng dá»¥ng IoT

> **Sinh viÃªn thá»±c hiá»‡n:** Tráº§n VÄƒn Hiá»ƒn

> **NgÃ nh:** Ká»¹ thuáº­t Äiá»‡n tá»­ vÃ  Tin há»c

> **MÃ£ sinh viÃªn:** 22001320

---

##  Má»¥c Lá»¥c
1. [Äáº·t váº¥n Ä‘á»](#1-Ä‘áº·t-váº¥n-Ä‘á»)
2. [Giáº£i phÃ¡p & TÃ­nh nÄƒng](#2-giáº£i-phÃ¡p--tÃ­nh-nÄƒng)
3. [Pháº§n cá»©ng sá»­ dá»¥ng](#3-pháº§n-cá»©ng-sá»­-dá»¥ng)
4. [SÆ¡ Ä‘á»“ káº¿t ná»‘i](#4-sÆ¡-Ä‘á»“-káº¿t-ná»‘i)
5. [CÃ i Ä‘áº·t pháº§n má»m](#5-cÃ i-Ä‘áº·t-pháº§n-má»m)
6. [HÃ¬nh áº£nh & Video káº¿t quáº£](#6-hÃ¬nh-áº£nh--video-káº¿t-quáº£)
7. [Káº¿t luáº­n & HÆ°á»›ng phÃ¡t triá»ƒn](#7-káº¿t-luáº­n--hÆ°á»›ng-phÃ¡t-triá»ƒn)

---

## 1. Äáº·t váº¥n Ä‘á»

Trong bá»‘i cáº£nh cuá»™c CÃ¡ch máº¡ng cÃ´ng nghiá»‡p 4.0 vÃ  xu hÆ°á»›ng chuyá»ƒn Ä‘á»•i sá»‘ táº¡i cÃ¡c trÆ°á»ng Ä‘áº¡i há»c, phÃ²ng thÃ­ nghiá»‡m (PhÃ²ng Lab) Ä‘Ã³ng vai trÃ² then chá»‘t trong viá»‡c Ä‘Ã o táº¡o vÃ  nghiÃªn cá»©u khoa há»c. ÄÃ¢y lÃ  nÆ¡i táº­p trung nhiá»u trang thiáº¿t bá»‹ Ä‘áº¯t tiá»n, mÃ¡y mÃ³c ká»¹ thuáº­t cao vÃ  lÃ  khÃ´ng gian há»c táº­p thÆ°á»ng xuyÃªn cá»§a sinh viÃªn khá»‘i ngÃ nh ká»¹ thuáº­t.
Tuy nhiÃªn, thá»±c tráº¡ng quáº£n lÃ½ phÃ²ng Lab táº¡i nhiá»u trÆ°á»ng Ä‘áº¡i há»c hiá»‡n nay váº«n cÃ²n tá»“n táº¡i nhiá»u báº¥t cáº­p do phá»¥ thuá»™c vÃ o phÆ°Æ¡ng thá»©c thá»§ cÃ´ng truyá»n thá»‘ng:

**Vá» kiá»ƒm soÃ¡t ra vÃ o (An ninh):**
* Viá»‡c sá»­ dá»¥ng chÃ¬a khÃ³a cÆ¡ truyá»n thá»‘ng gÃ¢y khÃ³ khÄƒn trong viá»‡c quáº£n lÃ½ ngÆ°á»i giá»¯ chÃ¬a khÃ³a, dá»… xáº£y ra tÃ¬nh tráº¡ng máº¥t chÃ¬a hoáº·c sao chÃ©p chÃ¬a trÃ¡i phÃ©p.
* KhÃ´ng cÃ³ lá»‹ch sá»­ lÆ°u váº¿t chi tiáº¿t vá» thá»i gian ra/vÃ o cá»§a tá»«ng cÃ¡ nhÃ¢n, gÃ¢y khÃ³ khÄƒn cho viá»‡c truy cá»©u trÃ¡ch nhiá»‡m khi xáº£y ra sá»± cá»‘ máº¥t mÃ¡t tÃ i sáº£n hoáº·c há»ng hÃ³c thiáº¿t bá»‹.
  
**Vá» giÃ¡m sÃ¡t mÃ´i trÆ°á»ng vÃ  an toÃ n thiáº¿t bá»‹:**
* CÃ¡c thiáº¿t bá»‹ Ä‘iá»‡n tá»­, server mÃ¡y chá»§ trong phÃ²ng Lab ráº¥t nháº¡y cáº£m vá»›i nhiá»‡t Ä‘á»™ vÃ  Ä‘á»™ áº©m. Viá»‡c khÃ´ng giÃ¡m sÃ¡t Ä‘Æ°á»£c mÃ´i trÆ°á»ng liÃªn tá»¥c (24/7) cÃ³ thá»ƒ dáº«n Ä‘áº¿n thiáº¿t bá»‹ quÃ¡ nhiá»‡t, giáº£m tuá»•i thá» hoáº·c nguy cÆ¡ chÃ¡y ná»•.
* TÃ¬nh tráº¡ng quÃªn táº¯t Ä‘Ã¨n, quáº¡t, Ä‘iá»u hÃ²a sau giá» há»c gÃ¢y lÃ£ng phÃ­ nÄƒng lÆ°á»£ng Ä‘iá»‡n nÄƒng ráº¥t lá»›n cho nhÃ  trÆ°á»ng.
**Má»¥c tiÃªu cá»§a dá»± Ã¡n:**
XÃ¢y dá»±ng má»™t há»‡ thá»‘ng IoT tÃ­ch há»£p "2 trong 1":
* Quáº£n lÃ½ ra vÃ o/Ä‘iá»ƒm danh báº±ng sinh tráº¯c há»c (VÃ¢n tay) Ä‘á»™ báº£o máº­t cao.
* GiÃ¡m sÃ¡t mÃ´i trÆ°á»ng (Nhiá»‡t Ä‘á»™/Äá»™ áº©m) vÃ  Ä‘iá»u khiá»ƒn thiáº¿t bá»‹ tá»± Ä‘á»™ng qua Internet.

---

## 2. Giáº£i phÃ¡p & TÃ­nh nÄƒng

Há»‡ thá»‘ng sá»­ dá»¥ng vi Ä‘iá»u khiá»ƒn **ESP32** káº¿t ná»‘i Wifi, giao tiáº¿p vá»›i Broker MQTT (EMQX) Ä‘á»ƒ gá»­i dá»¯ liá»‡u vá» Dashboard trung tÃ¢m (Node-RED).

###  CÃ¡c tÃ­nh nÄƒng chÃ­nh:
* **Äiá»ƒm danh vÃ¢n tay:** Nháº­n diá»‡n vÃ¢n tay sinh viÃªn (< 1s), hiá»ƒn thá»‹ tÃªn lÃªn mÃ n hÃ¬nh LCD vÃ  gá»­i dá»¯ liá»‡u Ä‘iá»ƒm danh vá» Web.
* **Cá»­a tá»± Ä‘á»™ng:** Äiá»u khiá»ƒn Servo má»Ÿ cá»­a khi vÃ¢n tay Ä‘Ãºng, tá»± Ä‘á»™ng Ä‘Ã³ng láº¡i sau 5 giÃ¢y.
* **GiÃ¡m sÃ¡t mÃ´i trÆ°á»ng:** Äo nhiá»‡t Ä‘á»™/Ä‘á»™ áº©m thá»i gian thá»±c. Tá»± Ä‘á»™ng báº­t quáº¡t (ÄÃ¨n Ä‘á») khi nhiá»‡t Ä‘á»™ vÆ°á»£t ngÆ°á»¡ng cÃ i Ä‘áº·t.
* **Äiá»u khiá»ƒn tá»« xa (IoT):**
    * Má»Ÿ cá»­a tá»« xa qua Web.
    * Báº­t/táº¯t Ä‘Ã¨n, cÃ²i bÃ¡o Ä‘á»™ng tá»« xa.
    * CÃ i Ä‘áº·t ngÆ°á»¡ng nhiá»‡t Ä‘á»™ cáº£nh bÃ¡o qua thanh trÆ°á»£t (Slider) trÃªn Dashboard.
* **Báº£o máº­t:** Sá»­ dá»¥ng giao thá»©c MQTT over SSL/TLS (Port 8883).

---

## 3. Pháº§n cá»©ng sá»­ dá»¥ng

| STT | TÃªn linh kiá»‡n | Chá»©c nÄƒng |
| :--- | :--- | :--- |
| 1 | **ESP32 DevKit V1** | Bá»™ xá»­ lÃ½ trung tÃ¢m, káº¿t ná»‘i WiFi & MQTT. |
| 2 | **Cáº£m biáº¿n vÃ¢n tay AS608** | Thu tháº­p vÃ  xá»­ lÃ½ dá»¯ liá»‡u vÃ¢n tay. |
| 3 | **Servo SG90** | Giáº£ láº­p cÆ¡ cáº¥u Ä‘Ã³ng/má»Ÿ cá»­a. |
| 4 | **LCD 1602 + I2C** | Hiá»ƒn thá»‹ tráº¡ng thÃ¡i, tÃªn sinh viÃªn, thÃ´ng bÃ¡o. |
| 5 | **DHT11** | Cáº£m biáº¿n nhiá»‡t Ä‘á»™, Ä‘á»™ áº©m. |
| 6 | **LED & Buzzer** | ÄÃ¨n bÃ¡o tráº¡ng thÃ¡i (Xanh/Äá») vÃ  CÃ²i bÃ¡o Ä‘á»™ng. |

---

## 4. SÆ¡ Ä‘á»“ káº¿t ná»‘i

### ğŸ”Œ Báº£ng Ä‘áº¥u ná»‘i chÃ¢n (Pinout)

| Thiáº¿t bá»‹ | ChÃ¢n thiáº¿t bá»‹ | ChÃ¢n ESP32 | Ghi chÃº |
| :--- | :--- | :--- | :--- |
| **AS608 (VÃ¢n tay)** | TX (DÃ¢y xanh) | **GPIO 16** (RX2)
| | RX (DÃ¢y tráº¯ng) | **GPIO 17** (TX2) | |
| **LCD I2C** | SDA | **GPIO 21** | |
| | SCL | **GPIO 22** | |
| **Servo** | Signal (Cam) | **GPIO 18** | Cáº¥p nguá»“n 5V |
| **DHT11** | Data | **GPIO 23** | |
| **LED Xanh** | (+) | **GPIO 4** | BÃ¡o má»Ÿ cá»­a |
| **LED Äá»** | (+) | **GPIO 5** | BÃ¡o nhiá»‡t Ä‘á»™ cao |
| **Buzzer** | (+) | **GPIO 19** | CÃ²i chÃ­p |

**SÆ¡ Ä‘á»“ káº¿t ná»‘i**
![SÆ¡ Ä‘á»“ ná»‘i dÃ¢y](./images/sodoketnoi.png)
---

## 5. CÃ i Ä‘áº·t pháº§n má»m

### YÃªu cáº§u:
* **VS Code** + Extension **PlatformIO**.
* **Node-RED** (Cháº¡y trÃªn mÃ¡y tÃ­nh hoáº·c Cloud).
* ThÆ° viá»‡n Arduino: `Adafruit Fingerprint`, `PubSubClient`, `DHT sensor library`, `LiquidCrystal_I2C`, `ESP32Servo`.

## 6. HÃ¬nh áº£nh & Video káº¿t quáº£
**SÆ¡ Ä‘á»“ fritzing**
![Giao diá»‡n Dashboard](./images/sodofritzing.png)

**Giao diá»‡n dashboard**
![Giao diá»‡n Dashboard](./images/giaodin.png)

**MÃ´ hÃ¬nh**
![Giao diá»‡n Dashboard](./images/bat2den.png)


###  Video Demo Káº¿t quáº£
Há»‡ thá»‘ng Ä‘Ã£ hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh. DÆ°á»›i Ä‘Ã¢y lÃ  video demo:

[![Demo Video](https://img.youtube.com/vi/5qvPFBEKS2A/0.jpg)](https://www.youtube.com/watch?v=5qvPFBEKS2A)

*(Báº¥m vÃ o hÃ¬nh trÃªn Ä‘á»ƒ xem video)*

## 7. Káº¿t luáº­n & HÆ°á»›ng phÃ¡t triá»ƒn
   **Káº¿t quáº£ Ä‘áº¡t Ä‘Æ°á»£c:**
* Há»‡ thá»‘ng hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh trÃªn Ä‘Æ°á»ng truyá»n Internet.
* Thá»i gian pháº£n há»“i vÃ¢n tay nhanh (< 1s).
* Giao diá»‡n Web trá»±c quan, Ä‘iá»u khiá»ƒn thá»i gian thá»±c (Real-time).
* Giáº£i quyáº¿t Ä‘Æ°á»£c váº¥n Ä‘á» Ä‘iá»ƒm danh há»™ vÃ  quÃªn táº¯t thiáº¿t bá»‹ Ä‘iá»‡n trong phÃ²ng.

 **HÆ°á»›ng phÃ¡t triá»ƒn (Future Work):**
* PhÃ¡t triá»ƒn thÃªm Mobile App (Android/iOS) thay vÃ¬ dÃ¹ng Web.
* TÃ­ch há»£p Database (MySQL/Firebase) Ä‘á»ƒ lÆ°u lá»‹ch sá»­ Ä‘iá»ƒm danh lÃ¢u dÃ i vÃ  xuáº¥t bÃ¡o cÃ¡o Excel.
* Bá»• sung thÃªm nháº­n diá»‡n khuÃ´n máº·t (FaceID) báº±ng ESP32-CAM Ä‘á»ƒ tÄƒng tÃ­nh báº£o máº­t
